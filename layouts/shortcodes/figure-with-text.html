{{ $image := .Get "image" }}
{{ $position := .Get "position" | default "left" }}
{{ $width := .Get "width" | default "300px" }}
{{ $height := .Get "height" | default "auto" }}
{{ $fit := .Get "fit" | default "cover" }}
{{ $alt := .Get "alt" | default "" }}
{{ $caption := .Get "caption" | default "" }}

<div class="image-text-wrapper {{ $position }}">
  <figure class="content-figure" style="width: {{ $width }}; height: {{ $height }};">
    <div class="image-container" style="width: {{ $width }}; height: {{ $height }};">
      <img src="{{ $image }}" 
           alt="{{ $alt }}" 
           style="object-fit: {{ $fit }};" />
    </div>
    {{ with $caption }}
    <figcaption>{{ . }}</figcaption>
    {{ end }}
  </figure>
  <div class="content-text">
    {{ .Inner | markdownify }}
  </div>
</div> 